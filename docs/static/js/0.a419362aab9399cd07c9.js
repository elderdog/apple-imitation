webpackJsonp([0],{"7Fxh":function(t,e){},DBkC:function(t,e){},yVLd:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i("uY1a"),s=i.n(n),r=i("z+gd");const a="undefined"==typeof window,o=function(t){for(let e of t){const t=e.target.__resizeListeners__||[];t.length&&t.forEach(t=>{t()})}};var l={name:"ElCarousel",props:{initialIndex:{type:Number,default:0},height:String,trigger:{type:String,default:"hover"},autoplay:{type:Boolean,default:!0},interval:{type:Number,default:3e3},indicatorPosition:String,indicator:{type:Boolean,default:!0},arrow:{type:String,default:"hover"},type:String,loop:{type:Boolean,default:!0},direction:{type:String,default:"horizontal",validator:function(t){return-1!==["horizontal","vertical"].indexOf(t)}}},data:function(){return{items:[],activeIndex:-1,containerWidth:0,timer:null,hover:!1}},computed:{arrowDisplay:function(){return"never"!==this.arrow&&"vertical"!==this.direction},hasLabel:function(){return this.items.some(function(t){return t.label.toString().length>0})},carouselClasses:function(){var t=["el-carousel","el-carousel--"+this.direction];return"card"===this.type&&t.push("el-carousel--card"),t},indicatorsClasses:function(){var t=["el-carousel__indicators","el-carousel__indicators--"+this.direction];return this.hasLabel&&t.push("el-carousel__indicators--labels"),"outside"!==this.indicatorPosition&&"card"!==this.type||t.push("el-carousel__indicators--outside"),t}},watch:{items:function(t){t.length>0&&this.setActiveItem(this.initialIndex)},activeIndex:function(t,e){this.resetItemPosition(e),e>-1&&this.$emit("change",t,e)},autoplay:function(t){t?this.startTimer():this.pauseTimer()},loop:function(){this.setActiveItem(this.activeIndex)},interval:function(){this.pauseTimer(),this.startTimer()}},methods:{handleMouseEnter:function(){this.hover=!0,this.pauseTimer()},handleMouseLeave:function(){this.hover=!1,this.startTimer()},itemInStage:function(t,e){var i=this.items.length;return e===i-1&&t.inStage&&this.items[0].active||t.inStage&&this.items[e+1]&&this.items[e+1].active?"left":!!(0===e&&t.inStage&&this.items[i-1].active||t.inStage&&this.items[e-1]&&this.items[e-1].active)&&"right"},handleButtonEnter:function(t){var e=this;"vertical"!==this.direction&&this.items.forEach(function(i,n){t===e.itemInStage(i,n)&&(i.hover=!0)})},handleButtonLeave:function(){"vertical"!==this.direction&&this.items.forEach(function(t){t.hover=!1})},updateItems:function(){this.items=this.$children.filter(function(t){return"ElCarouselItem"===t.$options.name})},resetItemPosition:function(t){var e=this;this.items.forEach(function(i,n){i.translateItem(n,e.activeIndex,t)})},playSlides:function(){this.activeIndex<this.items.length-1?this.activeIndex++:this.loop&&(this.activeIndex=0)},pauseTimer:function(){this.timer&&(clearInterval(this.timer),this.timer=null)},startTimer:function(){this.interval<=0||!this.autoplay||this.timer||(this.timer=setInterval(this.playSlides,this.interval))},resetTimer:function(){this.pauseTimer(),this.startTimer()},setActiveItem:function(t){if("string"==typeof t){var e=this.items.filter(function(e){return e.name===t});e.length>0&&(t=this.items.indexOf(e[0]))}if(t=Number(t),isNaN(t)||t!==Math.floor(t))console.warn("[Element Warn][Carousel]index must be an integer.");else{var i=this.items.length,n=this.activeIndex;this.activeIndex=t<0?this.loop?i-1:0:t>=i?this.loop?0:i-1:t,n===this.activeIndex&&this.resetItemPosition(n),this.resetTimer()}},prev:function(){this.setActiveItem(this.activeIndex-1)},next:function(){this.setActiveItem(this.activeIndex+1)},handleIndicatorClick:function(t){this.activeIndex=t},handleIndicatorHover:function(t){"hover"===this.trigger&&t!==this.activeIndex&&(this.activeIndex=t)}},created:function(){var t=this;this.throttledArrowClick=s()(300,!0,function(e){t.setActiveItem(e)}),this.throttledIndicatorHover=s()(300,function(e){t.handleIndicatorHover(e)})},mounted:function(){var t=this;this.updateItems(),this.$nextTick(function(){var e,i;e=t.$el,i=t.resetItemPosition,a||(e.__resizeListeners__||(e.__resizeListeners__=[],e.__ro__=new r.default(o),e.__ro__.observe(e)),e.__resizeListeners__.push(i)),t.initialIndex<t.items.length&&t.initialIndex>=0&&(t.activeIndex=t.initialIndex),t.startTimer()})},beforeDestroy:function(){var t,e;this.$el&&(t=this.$el,e=this.resetItemPosition,t&&t.__resizeListeners__&&(t.__resizeListeners__.splice(t.__resizeListeners__.indexOf(e),1),t.__resizeListeners__.length||t.__ro__.disconnect())),this.pauseTimer()}},c={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:t.carouselClasses,on:{mouseenter:function(e){return e.stopPropagation(),t.handleMouseEnter.apply(null,arguments)},mouseleave:function(e){return e.stopPropagation(),t.handleMouseLeave.apply(null,arguments)}}},[i("div",{staticClass:"el-carousel__container",style:{height:t.height}},[t.arrowDisplay?i("transition",{attrs:{name:"carousel-arrow-left"}},[i("button",{directives:[{name:"show",rawName:"v-show",value:("always"===t.arrow||t.hover)&&(t.loop||t.activeIndex>0),expression:"(arrow === 'always' || hover) && (loop || activeIndex > 0)"}],staticClass:"el-carousel__arrow el-carousel__arrow--left",attrs:{type:"button"},on:{mouseenter:function(e){return t.handleButtonEnter("left")},mouseleave:t.handleButtonLeave,click:function(e){return e.stopPropagation(),t.throttledArrowClick(t.activeIndex-1)}}},[i("i",{staticClass:"el-icon-arrow-left"})])]):t._e(),t._v(" "),t.arrowDisplay?i("transition",{attrs:{name:"carousel-arrow-right"}},[i("button",{directives:[{name:"show",rawName:"v-show",value:("always"===t.arrow||t.hover)&&(t.loop||t.activeIndex<t.items.length-1),expression:"(arrow === 'always' || hover) && (loop || activeIndex < items.length - 1)"}],staticClass:"el-carousel__arrow el-carousel__arrow--right",attrs:{type:"button"},on:{mouseenter:function(e){return t.handleButtonEnter("right")},mouseleave:t.handleButtonLeave,click:function(e){return e.stopPropagation(),t.throttledArrowClick(t.activeIndex+1)}}},[i("i",{staticClass:"el-icon-arrow-right"})])]):t._e(),t._v(" "),t._t("default")],2),t._v(" "),"none"!==t.indicatorPosition?i("ul",{class:t.indicatorsClasses},t._l(t.items,function(e,n){return i("li",{key:n,class:["el-carousel__indicator","el-carousel__indicator--"+t.direction,{"is-active":n===t.activeIndex}],on:{mouseenter:function(e){return t.throttledIndicatorHover(n)},click:function(e){return e.stopPropagation(),t.handleIndicatorClick(n)}}},[i("button",{staticClass:"el-carousel__button"},[t.hasLabel?i("span",[t._v(t._s(e.label))]):t._e()])])}),0):t._e()])},staticRenderFns:[]},u=i("VU/8")(l,c,!1,null,null,null).exports,d={name:"trigger-carousel",props:{titles:Array},data:function(){return{activeIndex:0,offsetX:0,transEnable:!0,buttonDisable:!1}},methods:{trigger:function(t){var e=this.$el.firstChild.childNodes[t],i=t<3?t:t-3;i=3===t?t:i,this.activeIndex=i,this.offsetX=-e.offsetLeft,3===t&&this.transitionScroll(),this.$emit("change",i)},setActiveIndex:function(t){var e=this.$el.firstChild.childNodes[t];0===t&&3===this.activeIndex?this.transitionScroll():(this.activeIndex=t,this.offsetX=-e.offsetLeft)},transitionScroll:function(){var t=this;t.buttonDisable=!0,setTimeout(function(){t.transEnable=!1,t.offsetX=0,t.activeIndex=0,setTimeout(function(){t.buttonDisable=!1,t.transEnable=!0},100)},800)}}},h={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"trigger-carousel"},[i("ul",{ref:"ul",class:{trans:t.transEnable},style:{transform:"translateX("+t.offsetX+"px)"}},t._l(t.titles,function(e,n){return i("li",[i("button",{staticClass:"trigger",class:{"is-active":n===t.activeIndex,trans:t.transEnable},style:{color:n===t.activeIndex-1?"transparent":"white"},attrs:{disabled:t.buttonDisable},on:{click:function(e){return t.trigger(n)}}},[t._v("\n                "+t._s(e)+"\n            ")])])}),0)])},staticRenderFns:[]};var v={components:{TriggerCarousel:i("VU/8")(d,h,!1,function(t){i("7Fxh")},"data-v-1ab96d11",null).exports,ElCarousel:u},name:"mac",data:function(){return{icons:[],carousels:[],paddleLeftDisable:!0,paddleRightDisable:!1,activeIndex:0}},mounted:function(){this.loadData(),document.querySelector(".nav-wrapper").addEventListener("scroll",this.throttle(this.handleScroll,200))},methods:{loadData:function(){var t=this;t.$service.url=t.$api.mac,t.$service.get(null,function(e){console.log(e),t.icons=e.data.icons,t.carousels=e.data.carousels})},itemClass:function(t){return t.toLocaleLowerCase().replace(" ","-")},handleScroll:function(){var t=this.$refs.menu.$el.getBoundingClientRect(),e=document.querySelector("body").getBoundingClientRect().width;console.log(t.left),this.paddleLeftDisable=t.left>=68,this.paddleRightDisable=e-t.right==68},makeNavScroll:function(t){var e=this.$refs.menu.$el.getBoundingClientRect(),i=document.querySelector(".nav-wrapper");"left"===t?i.scrollTo(68-e.left-200,0):"right"===t&&i.scrollTo(68-e.left+200,0)},triggerTitles:function(){var t=this.carousels.map(function(t){return t.title});return t.concat(t)},triggerTitleChanged:function(t){this.$refs.videoCarousel.setActiveItem(t)},videoChanged:function(t){this.$refs.triggerCarousel.setActiveIndex(t)},throttle:function(t,e){var i=t,n=void 0,s=!0;return function(){var t=arguments,r=this;return s?(i.apply(r,t),s=!1):!n&&void(n=setTimeout(function(){clearTimeout(n),n=null,i.apply(r,t)},e||500))}}}},f={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"mac"}},[i("div",{staticClass:"chapter-nav"},[i("div",{staticClass:"nav-wrapper"},[i("el-menu",{ref:"menu",attrs:{mode:"horizontal","background-color":"transparent","text-color":"white",router:""}},[t._l(t.icons,function(e){return[i("el-menu-item",{attrs:{index:"/404"}},[i("div",{staticClass:"wrapper",class:t.itemClass(e.title)},[i("figure",{style:{backgroundImage:"url("+e.url+")"}}),t._v(" "),i("span",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(e.title))])])])]})],2)],1),t._v(" "),i("div",{staticClass:"paddles"},[i("button",{staticClass:"paddle-left el-icon-arrow-left",class:{disable:t.paddleLeftDisable},on:{click:function(e){return t.makeNavScroll("left")}}}),t._v(" "),i("button",{staticClass:"paddle-right el-icon-arrow-right",class:{disable:t.paddleRightDisable},on:{click:function(e){return t.makeNavScroll("right")}}})])]),t._v(" "),i("div",{staticClass:"carousel"},[i("p",{staticClass:"slogan"},[t._v("Behind the Mac")]),t._v(" "),i("trigger-carousel",{ref:"triggerCarousel",attrs:{titles:t.triggerTitles()},on:{change:t.triggerTitleChanged}}),t._v(" "),i("el-carousel",{ref:"videoCarousel",staticClass:"video-carousel",attrs:{trigger:"click",autoplay:!1,arrow:"never"},on:{change:t.videoChanged}},t._l(t.carousels,function(e){return i("el-carousel-item",{key:e.title},[i("video",{staticClass:"inline-video sm",attrs:{autoplay:"",loop:"",muted:"",src:e.url_sm},domProps:{muted:!0}}),t._v(" "),i("video",{staticClass:"inline-video md",attrs:{autoplay:"",loop:"",muted:"",src:e.url_md},domProps:{muted:!0}}),t._v(" "),i("video",{staticClass:"inline-video lg",attrs:{autoplay:"",loop:"",muted:"",src:e.url_lg},domProps:{muted:!0}}),t._v(" "),i("video",{staticClass:"inline-video xl",attrs:{autoplay:"",loop:"",muted:"",src:e.url_xl},domProps:{muted:!0}}),t._v(" "),i("div",{staticClass:"section-content"},[i("p",{staticClass:"description"},[t._v(t._s(e.description))])])])}),1)],1)])},staticRenderFns:[]};var m=i("VU/8")(v,f,!1,function(t){i("DBkC")},"data-v-172c6fbc",null);e.default=m.exports}});
//# sourceMappingURL=0.a419362aab9399cd07c9.js.map